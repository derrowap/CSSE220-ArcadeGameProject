import java.awt.Color;
import java.awt.geom.Point2D;

/*
 * Enemy that chases after the hero trying to kill it by touching it
 * Currently not implemented
 */

//This is the dude that digs
public class Hobbin extends Monster {

	public Hobbin(World world, Point2D upLeftPoint) {
		super(world, upLeftPoint);
		this.setSpeed(3);
		this.setColor(Color.MAGENTA);
		//this.canDig = true;
	}

	@Override
	public void timePassed() {
		this.getDistance();
		this.setDirection(this.track());
		this.move(this.getDirection());
		if (this.encounteredWithHero())
			this.getWorld().getHero().setIsAlive(false);
	}

	//I'm not asking why, but apparently the x and y axes are swtiched in the movement. If someone knows why please commment and tell me. -- Billy
	private char track(){
		if (Math.abs(this.yDistance) >= Math.abs(this.xDistance)) {
			if (this.yDistance > 0)
				return 'l';
			return 'r';
		}
		if (this.xDistance > 0)
			return 'u';
		return 'd';
		
	}
	
	
//	public void track(){
//		this.getDistance();
//		
//		if(Math.abs(this.xDistance) > Math.abs(this.yDistance)){
//			if(this.xDistance > 0){
//				this.direction = 'l';
//			} else {
//				this.direction = 'r';
//			}
//		} else {
//			if(this.yDistance > 0){
//				this.direction = 'u';
//			} else {
//				this.direction = 'd';
//			}
//		}
//		this.move(this.direction);
//		
//		if(this.xDistance > 0){
//			this.direction = 'l';
//			this.move('l');
//		}
//		if(this.xDistance < 0){
//			this.direction = 'r';
//			this.move('r');
//		}
//		if(this.yDistance > 0){
//			this.direction = 'u';
//			this.move('u');
//		}
//		if(this.yDistance < 0){
//			this.direction = 'd';
//			this.move('d');
//		}
//	}
//	
//	public void moveToHero(){
//		this.track();
//	}
//	
//	public void move(char direction) {
//		Point2D newPoint = this.getPosition();
//		double xThreshold = this.getGridPosition().getX() * 72;
//		double yThreshold = this.getGridPosition().getY() * 72;
//		boolean changeDirection = true;
//		if(changeDirection){
//			if(direction == 'u'){
//				if(this.getPosition().getY() == yThreshold){
//					changeDirection = true;
//				}
//				else {
//					changeDirection = false;
//					newPoint = new Point2D.Double(this.getPosition().getX()
//							- this.getSpeed(), this.getPosition().getY());		
//				}
//			}
//			if(direction == 'd'){
//				if(this.getPosition().getY() == yThreshold){
//					changeDirection = true;
//				}
//				else {
//					changeDirection = false;
//					newPoint = new Point2D.Double(this.getPosition().getX()
//							+ this.getSpeed(), this.getPosition().getY());
//				}
//			}
//			if(direction == 'l'){
//				if(this.getPosition().getX() == xThreshold){
//					changeDirection = true;
//				}
//				else {
//					changeDirection = false;
//					newPoint = new Point2D.Double(this.getPosition().getX(), this
//							.getPosition().getY() - this.getSpeed());
//				}
//			}
//			if(direction == 'r'){
//				if(this.getPosition().getX() == xThreshold){
//					changeDirection = true;
//				}
//				else {
//					changeDirection = false;
//					newPoint = new Point2D.Double(this.getPosition().getX(), this
//							.getPosition().getY() + this.getSpeed());
//				}
//			}
//		}
//		else {
//			super.move(this.direction);
//		}
//		
//		if (isAvailable(newPoint, this.getWorld())) {
//			this.moveTo(newPoint);
//		}
//		
//	}
	
}
